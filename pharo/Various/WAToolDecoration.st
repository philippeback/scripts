'From Pharo3.0 of 18 March 2013 [Latest update: #30847] on 30 May 2014 at 10:39:54.099711 am'!WADecoration subclass: #WAToolDecoration	instanceVariableNames: 'plugins showHalos halos'	classVariableNames: ''	poolDictionaries: ''	category: 'Seaside-Development-Core'!!WAToolDecoration commentStamp: '<historical>' prior: 0!!!WAToolDecoration methodsFor: 'hooks' stamp: 'lr 4/15/2007 18:46'!states	^ Array with: showHalos! !!WAToolDecoration methodsFor: 'rendering' stamp: 'PhilippeBack 5/16/2014 12:14'!renderToolbarOn: html	html div class: ''; with: [ "wa-toolbar"		(self plugins select: [ :each | each isActive ])			do: [ :each | html render: each ]			separatedBy: [ html text: ' ' ] ]! !!WAToolDecoration methodsFor: 'rendering' stamp: 'jf 2/12/2009 21:05'!renderChildOn: html	self showHalos ifTrue: [		html context addHaloVisitor: (WAHaloVisitor decoration: self context: html context).		html context enableHalos ].	self renderNextOn: html.	html context disableHalos! !!WAToolDecoration methodsFor: 'rendering' stamp: 'lr 10/28/2007 14:42'!renderContentOn: html	self renderChildOn: html.	self renderToolbarOn: html! !!WAToolDecoration methodsFor: 'plugin-halos' stamp: 'lr 9/19/2010 09:42'!haloFor: aPresenter	^ halos at: aPresenter ifAbsentPut: [ aPresenter haloClass on: aPresenter ]! !!WAToolDecoration methodsFor: 'plugin-halos' stamp: 'lr 6/5/2007 21:46'!showHalos	^ showHalos contents! !!WAToolDecoration methodsFor: 'plugin-halos' stamp: 'lr 3/24/2008 11:20'!toggleHalos	showHalos contents: showHalos contents not! !!WAToolDecoration methodsFor: 'initialization' stamp: 'dkh 11/25/2009 11:34'!initialize	super initialize.	showHalos := WAValueHolder with: false.	halos := GRPlatform current weakDictionaryOfSize: 20.	plugins := WAToolPlugin allSubclassesFor: self! !!WAToolDecoration methodsFor: 'testing' stamp: 'lr 1/3/2008 13:15'!isGlobal	^ true! !!WAToolDecoration methodsFor: 'accessing' stamp: 'dkh 11/25/2009 11:34'!plugins	^ plugins! !!WAToolDecoration methodsFor: 'updating' stamp: 'jf 2/21/2009 03:20'!updateStates: aSnapshot	super updateStates: aSnapshot.	"Create halos for all visible presenters at the end of the action phase so that we	can properly snapshot their initial values (otherwise they get created in the render	phase and we have no snapshot of the state for that render)."	self showHalos ifTrue: [ self visiblePresentersDo: [ :each | self haloFor: each ] ].	aSnapshot register: halos.	halos do: [ :each  | each updateStates: aSnapshot ]! !!WAToolDecoration methodsFor: 'updating' stamp: 'lr 9/8/2009 12:40'!updateRoot: anHtmlRoot	super updateRoot: anHtmlRoot.	WADevelopmentFiles default updateRoot: anHtmlRoot! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!WAToolDecoration class	instanceVariableNames: ''!!WAToolDecoration class commentStamp: '<historical>' prior: 0!!!WAToolDecoration class methodsFor: 'testing' stamp: 'lr 9/14/2008 12:54'!canBeRoot	^ true! !